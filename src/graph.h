#ifndef _GRAPH_H_
#define _GRAPH_H_

#include <stdint.h>

// Total number of nodes
const int nb_nodes = 45;

// Nodes x coordinates [m]
// xi = graph_nodes_xy[2*i]
// yi = graph_nodes_xy[2*i+1]
const double graph_nodes_xy[] = {
    0.225, 1.775, // 0
    0.612, 1.800, // 1
    1.388, 1.800, // 2
    1.612, 1.800, // 3
    2.388, 1.800, // 4

    2.775, 1.775, // 5
    1.000, 1.665, // 6
    1.500, 1.665, // 7
    2.000, 1.665, // 8
    0.335, 1.388, // 9
    
    0.612, 1.388, // 10
    1.000, 1.300, // 11
    1.250, 1.400, // 12
    1.750, 1.400, // 13
    2.000, 1.300, // 14
    
    2.388, 1.388, // 15
    2.665, 1.388, // 16
    1.250, 1.200, // 17
    1.500, 1.188, // 18
    1.750, 1.200, // 19
    
    0.225, 1.000, // 20
    0.725, 1.000, // 21
    1.000, 1.000, // 22
    1.250, 1.000, // 23
    1.500, 1.000, // 24
    
    1.750, 1.000, // 25
    2.000, 1.000, // 26
    2.275, 1.000, // 27
    2.775, 1.000, // 28
    1.250, 0.800, // 29
    
    1.500, 0.812, // 30
    1.750, 0.800, // 31
    0.335, 0.612, // 32
    0.612, 0.612, // 33
    1.000, 0.700, // 34
    
    1.250, 0.600, // 35
    1.750, 0.600, // 36
    2.000, 0.700, // 37
    2.388, 0.612, // 38
    2.665, 0.612, // 39
    
    0.225, 0.225, // 40
    0.762, 0.150, // 41
    1.500, 0.335, // 42
    2.238, 0.150, // 43
    2.775, 0.225  // 44

};

// List of neighbors for each node (the list of neighbors of node i is graph_nodes_neighbors[i])
// -1 marks the end of the list
const int8_t graph_node_neighbors[45][9] = {
    { 1, 9,10,-1}, // 0
    { 0,10, 6,-1}, // 1
    { 3, 6,12, 7,-1}, // 2
    { 2, 7,13, 8,-1}, // 3
    { 8,15, 5,-1,-1}, // 4

    { 4,15,16,-1}, // 5
    { 2, 1,10,11,12, 7,-1}, // 6
    { 8, 3, 2, 6,12,18,13,-1}, // 7
    { 4, 3, 7,13,14,15,-1}, // 8
    {10, 0,20,-1}, // 9
    
    { 6, 1, 0, 9,20,21,11,-1}, // 10
    {12, 6,10,21,22,17,-1}, // 11
    { 7, 2, 6,11,17,18,-1}, // 12
    { 8, 3, 7,18,19,14,-1}, // 13
    {15, 8,13,19,26,27,-1}, // 14
    
    { 5, 4, 8,14,27,28,16,-1}, // 15
    { 5,15,28,-1}, // 16
    {18,12,11,22,23,24,-1}, // 17
    {13, 7,12,17,23,24,25,19,-1}, // 18
    {14,13,18,24,25,26,-1}, // 19
    
    {21,10, 9,32,33,-1}, // 20
    {22,11,10,20,33,34,-1}, // 21
    {23,17,11,21,34,29,-1}, // 22
    {24,18,17,22,29,30,-1}, // 23
    {25,19,18,17,23,29,30,31,-1}, // 24
    
    {26,19,18,24,30,31,-1}, // 25
    {27,14,19,25,31,37,-1}, // 26
    {28,15,14,26,37,38,-1}, // 27
    {16,15,27,38,39,-1}, // 28
    {30,24,23,22,34,35,-1}, // 29
    
    {31,25,24,23,29,35,42,36,-1}, // 30
    {26,25,24,30,36,37,-1}, // 31
    {33,20,40,-1}, // 32
    {34,21,20,32,40,41,-1}, // 33
    {29,22,21,33,41,35,-1}, // 34
    
    {30,29,34,41,42,-1}, // 35
    {37,31,30,42,43,-1}, // 36
    {27,26,31,36,43,38,-1}, // 37
    {39,28,27,37,43,44,-1}, // 38
    {28,38,44,-1}, // 39
    
    {33,32,41,-1}, // 40
    {42,35,34,33,40,-1}, // 41
    {36,30,35,41,43,-1}, // 42
    {44,38,37,36,42,-1}, // 43
    {39,38,43,-1}  // 44

};

// Nodes validity bit (1 if this node can be used for a path, 0 otherwise)
// Plant spots are set to 0 by default at initial state
// Must be maintained throughout the match for accurate path planning
int8_t graph_nodes_validity[] = {
    1, // 0
    1, // 1
    1, // 2
    1, // 3
    1, // 4

    1, // 5
    1, // 6
    0, // 7
    1, // 8
    1, // 9
    
    1, // 10
    0, // 11
    1, // 12
    1, // 13
    0, // 14
    
    1, // 15
    1, // 16
    1, // 17
    1, // 18
    1, // 19
    
    1, // 20
    1, // 21
    1, // 22
    1, // 23
    1, // 24
    
    1, // 25
    1, // 26
    1, // 27
    1, // 28
    1, // 29
    
    1, // 30
    1, // 31
    1, // 32
    1, // 33
    0, // 34
    
    1, // 35
    1, // 36
    0, // 37
    1, // 38
    1, // 39
    
    1, // 40
    1, // 41
    0, // 42
    1, // 43
    1  // 44
    
};

// Reserved nodes depending on color (blue = 0, yellow = 1)
const int8_t graph_nodes_reserved[2][4] = {
    {44,5,4,43}, // Blue
    {40,0,1,41}  // Yellow
};

#endif